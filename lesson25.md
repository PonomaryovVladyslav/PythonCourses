# –õ–µ–∫—Ü–∏—è 25. NoSQL. –ö—É–∫–∏, —Å–µ—Å—Å–∏–∏, –∫–µ—à

![](https://imgb.ifunny.co/images/25d44f01a8e316a90fe39d4d7239a560e7f0c2fe1ae987596cd6788bd8eb1435_1.jpg)
## üìö –í–≤–µ–¥–µ–Ω–∏–µ –≤ NoSQL

`NoSQL` (–æ—Ç –∞–Ω–≥–ª. **Not Only SQL** ‚Äî ¬´–Ω–µ —Ç–æ–ª—å–∫–æ SQL¬ª) ‚Äî —ç—Ç–æ —Ç–µ—Ä–º–∏–Ω, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π —Ç–∏–ø—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –°–£–ë–î. NoSQL –ë–î –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –º–æ–¥–µ–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ:  
- [–ß—Ç–æ —Ç–∞–∫–æ–µ NoSQL (Azure)](https://azure.microsoft.com/ru-ru/resources/cloud-computing-dictionary/what-is-nosql-database)  
- [–û–±–∑–æ—Ä –Ω–∞ Habr](https://habr.com/ru/articles/152477/)

---

### üß® –ü–æ—á–µ–º—É NoSQL?

NoSQL –ë–î –ø–æ—è–≤–∏–ª–∏—Å—å –∫–∞–∫ –æ—Ç–≤–µ—Ç –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –°–£–ë–î –≤ —É—Å–ª–æ–≤–∏—è—Ö:
- –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è,
- —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏ –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–ª–∞–±–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö,
- –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

---

### ‚öñÔ∏è –ü–æ–¥—Ä–æ–±–Ω–æ –æ CAP-—Ç–µ–æ—Ä–µ–º–µ

**CAP-—Ç–µ–æ—Ä–µ–º–∞** (—Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ–º–∞—è **—Ç–µ–æ—Ä–µ–º–æ–π –ë—Ä—é–µ—Ä–∞**) –≥–ª–∞—Å–∏—Ç, —á—Ç–æ **–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å**:

| –°–≤–æ–π—Å—Ç–≤–æ       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|----------------|--------------------------------------------------------------------------|
| **Consistency** (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å) | –í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–æ–º–µ–Ω—Ç. |
| **Availability** (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)    | –°–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å (–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è). |
| **Partition Tolerance** (–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é) | –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –µ—Å—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã. |

üß† **–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ CAP-—Ç–µ–æ—Ä–µ–º–∞?**  
–ü—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ NoSQL) —á–∞—Å—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è **–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —á–µ–º-—Ç–æ** —Ä–∞–¥–∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

- –í —Å–ª—É—á–∞–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ **–ª–∏–±–æ –æ—Ç–∫–∞–∑–∞—Ç—å –≤ –¥–æ—Å—Ç—É–ø–µ (–∂–µ—Ä—Ç–≤—É–µ–º A)**,
- –õ–∏–±–æ **–æ—Ç–¥–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ (–∂–µ—Ä—Ç–≤—É–µ–º C)**.

**–í—ã–≤–æ–¥:** —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º **–¥–≤–∞ –∏–∑ —Ç—Ä—ë—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**.

**–ü—Ä–∏–º–µ—Ä—ã:**
- üî∏ **Cassandra** ‚Äî AP: –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø–æ–∑–∂–µ (eventual consistency).
- üî∏ **MongoDB (–¥–æ 4.0)** ‚Äî CP: –∂–µ—Ä—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é.
- üî∏ **Redis (–≤ –∫–ª–∞—Å—Ç–µ—Ä–µ)** ‚Äî —á–∞—â–µ AP.

---

### üî¢ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã NoSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

![](https://files.codingninjas.in/article_images/types-of-nosql-databases-0-1644120083.webp)

---

#### 1. üóùÔ∏è Key-Value (–ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)

–ü—Ä–æ—Å—Ç–µ–π—à–∞—è –º–æ–¥–µ–ª—å, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∞—è —Å–ª–æ–≤–∞—Ä—å: `–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ`.

**–ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è:**

```json
{
  "user:123": "Alice",
  "user:124": "Bob",
  "cart:456": {
    "item": "Book",
    "qty": 2
  }
}
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- **Redis –≤ GitHub** ‚Äî –∫–∞–∫ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫—ç—à —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.
- **DynamoDB –≤ Amazon** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

#### 2. üìÑ Document-oriented (–î–æ–∫—É–º–µ–Ω—Ç–Ω—ã–µ –ë–î)

–•—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (JSON, BSON –∏ —Ç.–¥.).

**–ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è:**

```json
{
  "_id": "user_001",
  "name": "Alice",
  "email": "alice@example.com",
  "orders": [
    {"item": "Book", "qty": 2},
    {"item": "Pen", "qty": 5}
  ]
}
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- **MongoDB –≤ eBay** ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ç–æ–≤–∞—Ä–æ–≤.
- **CouchDB –≤ BBC** ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.

---

#### 3. üìä Column-family (–ö–æ–ª–æ–Ω–Ω–æ—á–Ω—ã–µ –ë–î)

–ö–æ–ª–æ–Ω–Ω–æ—á–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö **–Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ**, –Ω–æ —Ä–∞–∑–ª–∏—á–∏–µ ‚Äî **–≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö**.

##### üÜö –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î?

|                      | –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ë–î (PostgreSQL, MySQL) | –ö–æ–ª–æ–Ω–Ω–æ—á–Ω—ã–µ –ë–î (Cassandra, Bigtable)     |
|----------------------|------------------------------------|-------------------------------------------|
| –ï–¥–∏–Ω–∏—Ü–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è     | —Å—Ç—Ä–æ–∫–∞ (row)                       | —Å—Ç–æ–ª–±–µ—Ü (column) –∏–ª–∏ ¬´—Å–µ–º–µ–π—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤¬ª |
| –§–∏–∑–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ  | —Å—Ç—Ä–æ–∫–∏ –ª–µ–∂–∞—Ç –≤–º–µ—Å—Ç–µ                | –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –ª–µ–∂–∞—Ç –≤–º–µ—Å—Ç–µ      |
| –°—Ü–µ–Ω–∞—Ä–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –∑–∞–ø–∏—Å—å/—á—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫                | –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º          |
| –ì–∏–±–∫–æ—Å—Ç—å —Å—Ö–µ–º—ã       | —Å—Ç—Ä–æ–≥–æ –∑–∞–¥–∞–Ω–∞                      | –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Å—Ç–æ–ª–±—Ü–æ–≤        |

**–ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è (—É–ø—Ä–æ—â—ë–Ω–Ω–æ):**

```
RowKey: user1
  Name: Alice
  Age: 30
  City: Prague

RowKey: user2
  Name: Bob
  Age: 25
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- **Cassandra –≤ Netflix** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è.
- **Bigtable –≤ YouTube** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

---

#### 4. üîó Graph (–ì—Ä–∞—Ñ–æ–≤—ã–µ –ë–î)

–ì—Ä–∞—Ñ–æ–≤—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ **—É–∑–ª—ã (nodes)** –∏ **—Å–≤—è–∑–∏ (edges)** –º–µ–∂–¥—É –Ω–∏–º–∏.

**–ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è:**

```
(Alice)-[:FRIEND]->(Bob)
(Alice)-[:LISTENS_TO]->(Song)
(Alice)-[:VISITED]->(Place)
```

##### üß† –ü–æ—á–µ–º—É –≥—Ä–∞—Ñ—ã —Ç–∞–∫ –≤–∞–∂–Ω—ã?

–ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ**:

- **Facebook**: "–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∑–Ω–∞–µ—Ç–µ —ç—Ç–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞" ‚Äî —á–µ—Ä–µ–∑ –æ–±—â–∏—Ö –¥—Ä—É–∑–µ–π.
- **Spotify**: "–ü–æ—Ö–æ–∂–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏" ‚Äî —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏.
- **Google Maps**: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ ‚Äî –∫–∞–∫ –ø–æ–∏—Å–∫ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ –¥–æ—Ä–æ–≥.

–í—Å–µ —ç—Ç–∏ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—é—Ç—Å—è **–æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –≥—Ä–∞—Ñ–æ–≤—ã–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏** (DFS, BFS, Dijkstra –∏ —Ç.–¥.) –Ω–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö ‚Äî –≥—Ä–∞—Ñ–∞—Ö.

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- **Neo4j –≤ eBay** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ antifraud.
- **Amazon Neptune** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≥—Ä–∞—Ñ—ã –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.
- **LinkedIn** ‚Äî –ø–æ–∏—Å–∫ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π.

---

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –°—Ü–µ–Ω–∞—Ä–∏–π                      | –¢–∏–ø NoSQL         | –ü—Ä–∏–º–µ—Ä—ã                                      |
|------------------------------|-------------------|----------------------------------------------|
| –ö—ç—à, —Å–µ—Å—Å–∏–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | Key-Value         | Redis, Memcached                             |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, CMS             | Document-oriented | MongoDB, CouchDB                             |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã     | Column-family     | Cassandra, Bigtable                          |
| –°–≤—è–∑–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –º–∞—Ä—à—Ä—É—Ç—ã | Graph             | Neo4j, Neptune, OrientDB                     |

---

### üßæ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NoSQL?

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π, –µ—Å–ª–∏:
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è –∏–ª–∏ –Ω–µ—Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–∞;
- —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å;
- –≤–∞–∂–Ω—ã —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∏ –∑–∞–ø–∏—Å—å –≤ real-time.

‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏:
- –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Å—Ç—Ä–æ–≥–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
- –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö JOIN-–æ–ø–µ—Ä–∞—Ü–∏–π;
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ —Ç–∞–±–ª–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Å—Ö–µ–º—ã.

---

> üí¨ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:**  
> Redis ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –û–Ω –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≤ —Å—Ç–µ–∫–µ. –î–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ, –µ–≥–æ —á–∞—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç –ø–æ–∑–∂–µ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—á–µ—Ä–µ–¥–µ–π –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π. –ú—ã —Å –Ω–∏–º –µ—â—ë –ø–æ—Ä–∞–±–æ—Ç–∞–µ–º –¥–∞–ª—å—à–µ –ø–æ –∫—É—Ä—Å—É.

## –ö—É–∫–∏ –∏ —Å–µ—Å—Å–∏–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ Cookie (–ø–µ—á–µ–Ω—å–∫–∏), –∏ –ø—Ä–∏—á—ë–º —Ç—É—Ç —Å–µ—Å—Å–∏—è?

–ü–æ–Ω—è—Ç–∏–µ "—Å–µ—Å—Å–∏–π" –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Ç–æ–º, —á—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–Ω –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç —Å –æ–¥–Ω–æ–π
—Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –¥—Ä—É–≥—É—é. –í—Å–ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ HTTP –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É —Ç–æ–ª—å–∫–æ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç
"–∑–∞–ø–æ–º–Ω–∏—Ç—å" —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å.

## –ö—É–∫–∏

![](https://i.scdn.co/image/ab6761610000e5eba3a7cba23d68a4e73c3b8155)

–ö—É–∫–∏ ‚Äî —ç—Ç–æ –ø–∞—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø—É "–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ", –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ-—Ç–æ
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å—Ä–æ–∫–∞. –û–Ω–∏ –ø—Ä–∏–º–µ–Ω–∏–º—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ª—é–±–æ–π –∑–∞–¥–∞—á–∏, –Ω–æ —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –µ—Å–ª–∏ –æ–Ω –ø–æ—Ç–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –∏–ª–∏, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∞–π—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–∑–∏–Ω—ã –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–æ–≤ —á–∞—â–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞—é—Ç –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –∫—É–∫–∏, –≤–µ–¥—å –≤—ã –Ω–µ —Ç–µ—Ä—è–µ—Ç–µ –¥–∞–Ω–Ω—ã–µ,
–ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∞ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–º, —á—Ç–æ –≤—ã –Ω–∞–±–∏—Ä–∞–µ—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É, –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Å–ª–∏—à–∫–æ–º
–∏–∑–±—ã—Ç–æ—á–Ω–æ. –í—ã –º–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–∏—Ö –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –¥–∞–∂–µ –ø–∞—Ä–æ–ª–∏, –Ω–æ —ç—Ç–æ –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è –∏–¥–µ—è, –Ω–µ —Å—Ç–æ–∏—Ç
—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–±—ã—á–Ω—ã—Ö –∫—É–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–π –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –æ—á–∏—Å—Ç–∏–≤ –∫—ç—à, –∏–ª–∏ —É–∫—Ä–∞—Å—Ç—å/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—É–∫–æ–≤.

![](https://www.web-labs.kz/wp-content/uploads/2020/05/cookie.png)

–ö—É–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ request/response –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è Django –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–¥–æ–±–∞–≤–ª—è–µ—Ç –∫—É–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å. –ü–æ—ç—Ç–æ–º—É —Ç–∞–º –∏ –Ω—É–∂–Ω—ã CSRF
—Ç–æ–∫–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ö –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–æ–∫–µ–Ω—ã –≤ REST –∑–∞–ø—Ä–æ—Å–∞—Ö. –¢–∞–∫ –∫–∞–∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫—É–∫–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ, –∞ –º—ã
–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à–µ–ª –∏–º–µ–Ω–Ω–æ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ö—É–∫–∏ —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫—Ç–æ —ç—Ç–æ, –∞
—Ç–æ–∫–µ–Ω—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –±—ã–ª –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

### –°–µ—Å—Å–∏—è

–ó–∞–¥—É–º–∞–π—Ç–µ—Å—å –æ —Ç–æ–º, –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –±—Ä–∞—É–∑–µ—Ä—ã —Å–ª–µ–¥—è—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. HTTP
–∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π, —Ç–∞–∫ –∫–∞–∫ –∂–µ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à–µ–ª –∏–º–µ–Ω–Ω–æ –æ—Ç –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è? –í–æ—Ç –ø–æ—á–µ–º—É
–≤–∞–∂–Ω—ã –∫—É–∫–∏ ‚Äî –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ –∑–∞–ø—Ä–æ—Å—É, –ø–æ–∫–∞ –Ω–µ –∏—Å—Ç–µ—á–µ—Ç –∏—Ö —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è.

–û—Å–æ–±—ã–π —Å–ª—É—á–∞–π ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π "—Å–µ—Å—Å–∏–∏", –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
–¥–µ–ª–∞–µ—Ç, –ø–æ–∫–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ "–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å" —ç—Ç–æ, –æ–±—ã—á–Ω–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ
–∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–µ—Ç–∏–ª –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞, –±—É–¥–µ—Ç —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏.

–ï—Å–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, —Å–µ—Å—Å–∏—è - —ç—Ç–æ –Ω–∞–±–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–ª–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞).

–í —Å–ª—É—á–∞–µ —Å Django, –ø—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Å—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–±–æ—Ä –∫—É–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. (–ê –∑–Ω–∞—á–∏—Ç,
—á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å)

#### –°–µ—Å—Å–∏–∏ –∏ HTTP

![](http://techbriefers.com/wp-content/uploads/2019/10/cookie-and-session-management-process-in-codeigniter.jpg)

–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP, —Å–µ—Å—Å–∏—è —è–≤–ª—è–µ—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π. –¢–æ –µ—Å—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –µ—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ï—Å–ª–∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –ª—é–±–æ–π
–∑–∞–ø—Ä–æ—Å, —Ç–∞–º –≤—ã —Å–º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –∫—É–∫–∏, —Å—Ö–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑—É—á–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ.

–°–µ—Å—Å–∏—è–º–∏ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏–Ω–∞—á–µ —ç—Ç–æ –Ω–µ –∏–º–µ–ª–æ –±—ã —Å–º—ã—Å–ª–∞.

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ª–æ–≥–∏–Ω, –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–µ–∫–µ–Ω–¥–∞, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ Django —Å–æ–∑–¥–∞—ë—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç —Å–µ—Å—Å–∏–∏,
–¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (id), –∏ —É–∂–µ –æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –ø–æ—Å–ª–µ–¥—É—é—â–µ–º—É —Ä–µ–∫–≤–µ—Å—Ç—É –∏ —Ä–µ—Å–ø–æ–Ω—Å—É
–≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫—É–∫–∏.

–ö–∞–∫ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–∞–∂–¥—ã–π —Ä–µ–∫–≤–µ—Å—Ç, –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–Ω—è—Ç–∏–∏, –∞ –ø–æ–∫–∞ –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ –º—ã
–º–æ–∂–µ–º —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### –ö–∞–∫ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?

–í Django —Å–µ—Å—Å–∏—è –≤—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–∫–≤–µ—Å—Ç–µ, –∞ –∑–Ω–∞—á–∏—Ç, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –ª—é–±–æ–º
–º–µ—Å—Ç–µ, –≥–¥–µ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∫–≤–µ—Å—Ç—É. `request.session` –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤.

```python
request.session[0] = 'bar'
# subsequent requests following serialization & deserialization
# of session data
request.session[0]  # KeyError
request.session['0']
'bar'
``` 

–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –∞ –∑–Ω–∞—á–∏—Ç –∫–ª—é—á–∏ –±—É–¥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ —Å—Ç—Ä–æ–∫–∏.

–î–æ–ø—É—Å—Ç–∏–º, –≤–∞–º –Ω—É–∂–Ω–æ "–∑–∞–ø–æ–º–Ω–∏—Ç—å", –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª –ª–∏ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å—Ç–∞—Ç—å—é, —á—Ç–æ–±—ã –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –Ω–∞–ø–∏—Å–∞—Ç—å
–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–¥—Ä—è–¥. –ö–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ, –Ω–æ –∑–∞—á–µ–º?
–ü—Ä–æ—â–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–µ—Å—Å–∏–µ–π:

```python
def post_comment(request, new_comment):
    if request.session.get('has_commented', False):
        return HttpResponse("You've already commented.")
    c = comments.Comment(comment=new_comment)
    c.save()
    request.session['has_commented'] = True
    return HttpResponse('Thanks for your comment!')
```

–°–æ—Ö—Ä–∞–Ω–∏–º —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–µ—Å—Å–∏–∏ –∏ –±—É–¥–µ–º –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏–º–µ–Ω–Ω–æ –µ–≥–æ.

–î–æ–ø—É—Å—Ç–∏–º, –≤–∞–º –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–∑–∞–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ —Å–æ–≤–µ—Ä—à–∞–ª –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

```python
request.session['last_action'] = timezone.now()
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–æ–≥–¥–∞ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∏ –¥–æ–±–∞–≤–∏—Ç—å –ª—é–±—É—é –Ω—É–∂–Ω—É—é –Ω–∞–º –ª–æ–≥–∏–∫—É.

–ï—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–µ—Å—Å–∏–µ–π –≤–Ω–µ –º–µ—Å—Ç, –≥–¥–µ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∫–≤–µ—Å—Ç—É (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è, –Ω–æ –º–∞–ª–æ –ª–∏):

```python
from django.contrib.sessions.backends.db import SessionStore

s = SessionStore()
# stored as seconds since epoch since datetimes are not serializable in JSON.
s['last_login'] = 1376587691
s.create()
s.session_key
'2b1189a188b44ad18c35e113ac6ceead'
SessionStore(session_key='2b1189a188b44ad18c35e113ac6ceead')
s['last_login']
1376587691
```

–ú—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Å—Å–∏—é –ø–æ –∫–ª—é—á—É (–ª—é–±–∞—è —Å–æ–∑–¥–∞–Ω–Ω–∞—è Django —Å–µ—Å—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `session_key`), –ø–æ
–∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–µ –Ω–∞–º –¥–∞–Ω–Ω—ã–µ.

–î–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–π —Å–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏, –Ω–µ –∑–Ω–∞—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞, –∏—Ö
–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `.get_decoded()`

```python
s.session_data
'KGRwMQpTJ19hdXRoX3VzZXJfaWQnCnAyCkkxCnMuMTExY2ZjODI2Yj...'
s.get_decoded()
{'user_id': 42}
```

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Å—Å–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ request.session:

```python
# Session is modified.
request.session['foo'] = 'bar'

# Session is modified.
del request.session['foo']

# Session is modified.
request.session['foo'] = {}

# Gotcha: Session is NOT modified, because this alters
# request.session['foo'] instead of request.session.
request.session['foo']['bar'] = 'baz'
```

–í –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, —Ç. –∫. –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–µ request.session, –∞ `request.session['foo']`

–≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ `settings.py`  `SESSION_SAVE_EVERY_REQUEST = True`, —Ç–æ–≥–¥–∞ –∑–∞–ø–∏—Å—å
–≤ —Å–µ—Å—Å–∏—é –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.
.
–¢–∞–∫ –∫–∞–∫ —Å–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Ç–∞–∫, —á—Ç–æ —á–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
–±—É–¥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º –≤ –±–∞–∑–µ. –ï—Å–ª–∏ –Ω–∞–º –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Ö –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—Ç—å. –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º
—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, —Ç–æ –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è manage-–∫–æ–º–∞–Ω–¥–æ–π `python manage.py clearsessions`.

–ï—Å–ª–∏ –∂–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å–µ—Å—Å–∏–∏, —Ç–æ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–µ–º, —á—Ç–æ —Å–µ—Å—Å–∏—è - —ç—Ç–æ —Ç–∞–∫–∞—è –∂–µ –º–æ–¥–µ–ª—å,
–∫–∞–∫ –∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ. –ó–Ω–∞—á–∏—Ç, –º—ã –º–æ–∂–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞–º –¥–∞–Ω–Ω—ã–µ.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –∏ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, –∫–∞–∫ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Å—Å–∏—è–º–∏. –ü–æ–¥—Ä–æ–±–Ω–µ–µ
–æ–± —ç—Ç–æ–º [–¢—É—Ç](https://docs.djangoproject.com/en/4.2/topics/http/sessions/)

> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Å—Å–∏–∏ –ø–∏—à—É—Ç—Å—è –≤ –≤–∞—à—É –æ–±—ã—á–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ –±—ã —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏–∏ –≤
> Redis, –∏ —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è

## –ö–µ—à

![](https://miro.medium.com/max/577/1*hjXc3KHBcFGfRw5rr5lv4A.jpeg)

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [–¢—É—Ç](https://docs.djangoproject.com/en/4.2/topics/cache/)

–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–µ—à?

–ö–µ—à ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –±—É—Ñ–µ—Ä —Å –±—ã—Å—Ç—Ä—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –Ω–µ–º—É, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–∞ —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π
–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é. –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –≤ –∫—ç—à–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≤—ã–±–æ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏–ª–∏
—É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –æ–¥–Ω–∞–∫–æ –µ—ë –æ–±—ä—ë–º —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ï—Å–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, —Ç–æ —ç—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

![](https://cdn.acunetix.com/wp_content/uploads/2018/12/image1-1.png)

#### –ü—Ä–∏–º–µ—Ä

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç, –∏ –∑–Ω–∞–µ–º, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ —É –Ω–∞—Å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–∞–∑ –≤ —á–∞—Å.

–í —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞, –ø–æ–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –æ–±–Ω–æ–≤—è—Ç—Å—è, –∞–±—Å–æ–ª—é—Ç–Ω–æ –∫–∞–∂–¥—ã–π –∑–∞—Ö–æ–¥—è—â–∏–π –Ω–∞ —Å–∞–π—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –≤–∏–¥–µ—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ
–Ω–∞–±–æ—Ä —Å—Ç–∞—Ç–µ–π, –∞ –∑–Ω–∞—á–∏—Ç, –Ω–∞–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –¥–æ—Å—Ç–∞–≤–∞—Ç—å —ç—Ç–æ—Ç –Ω–∞–±–æ—Ä –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –º—ã –º–æ–∂–µ–º –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ!

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞ –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–≥—Ä–æ–º–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –∫–µ—à–∞.

### –í–∏–¥—ã –∫–µ—à–∞

–î–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–∏–¥–∞ –∫–µ—à–∞ - —ç—Ç–æ `Memcached` –∏ `redis`.

–ö–∞–∫ –º–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, –≤—Å—ë –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `settings.py`.

#### Memcached (memory cached - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–º—è—Ç—å)

–°–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã (—Å–ª–æ–≤–∞—Ä—è) –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.

**–¢—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏!**

–ö–∞–∫ –∏ —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ—á–µ–Ω—å –ª–µ–≥–∫–æ —Å—Ç–∞–≤–∏—Ç—Å—è –Ω–∞ Linux –∏ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º–∏ –Ω–∞
Windows, –∏–∑—É—á–∏—Ç–µ —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

Memcached –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Å–ª—É–∂–±–∞, –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø–æ—Ä—Ç–æ–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–º—É —è–≤–ª—è–µ—Ç—Å—è 11211.

–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Memcached –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
        'LOCATION': '127.0.0.1:11211',
    }
}
```

–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–µ —Å–æ–∫–µ—Ç–∞ (–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ UNIX —Å–∏—Å—Ç–µ–º–∞—Ö):

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
        'LOCATION': 'unix:/tmp/memcached.sock',
    }
}
```

–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
        'LOCATION': [
            '172.19.26.240:11211',
            '172.19.26.242:11211',
        ]
    }
}
```

#### Redis

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞ —á–µ—Ä–µ–∑ Redis –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–Ω–∞—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ Redis.

–ú—ã –±—É–¥–µ–º –∏–∑—É—á–∞—Ç—å —Ü–µ–ª—ã–π –≤–∏–¥ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥–∏, –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏ Redis. –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–∞–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ Redis - —ç—Ç–æ
—Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ).

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–∫–æ–≥–æ –∫–µ—à–∞ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, **—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis**, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç 6379.

–ò —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º:

```
pip install django-redis
```

–ü–æ—Å–ª–µ —á–µ–≥–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `settings.py` –∏ –¥–µ—Ä–∂–∞—Ç—å —Å–µ—Ä–≤–∏—Å Redis –∑–∞–ø—É—â–µ–Ω–Ω—ã–º:

```python
CACHES = {
    "default": {
        "BACKEND": "django_redis.cache.RedisCache",
        "LOCATION": "redis://127.0.0.1:6379/1",
        "OPTIONS": {
            "CLIENT_CLASS": "django_redis.client.DefaultClient"
        },
        "KEY_PREFIX": "example"
    }
}
```

#### –î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–µ—à–∞

–ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–µ—à –ø—Ä—è–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä—É—é —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –∫–µ—à:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.db.DatabaseCache',
        'LOCATION': 'my_cache_table',
    }
}
```

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞ —á–µ—Ä–µ–∑ –±–∞–∑—É —Ç–∞–±–ª–∏—Ü—É –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å, —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ manage-–∫–æ–º–∞–Ω–¥—ã:

```python manage.py createcachetable```

–ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–µ—à –≤ –æ–±—ã—á–Ω–æ–º —Ñ–∞–π–ª–µ:

Linux\MacOS:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache',
        'LOCATION': '/var/tmp/django_cache',
    }
}
```

Windows:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache',
        'LOCATION': 'c:/foo/bar',
    }
}
```

–ï—Å—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```python
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.dummy.DummyCache',
    }
}
```

–ö–∞–∫ –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ, –∫–µ—à –º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–ø–∏—Å–∞–≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–µ—à–µ–º:

```python
CACHES = {
    'default': {
        'BACKEND': 'path.to.backend',
    }
}
```

–õ—é–±–æ–π —Ç–∏–ø –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –ø–æ–¥—Ä–æ–±–Ω–æ –æ –∫–æ—Ç–æ—Ä—ã—Ö –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

### –ö–∞–∫ –∂–µ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–µ—à.

–ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–∞–π—Ç –∏–ª–∏ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤—å—é.

–ß—Ç–æ–±—ã –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–∞–π—Ç, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–≤–µ middleware (–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–Ω—è—Ç–∏–∏) –¥–æ –∏
–ø–æ—Å–ª–µ `CommonMiddleware` (—ç—Ç–æ –≤–∞–∂–Ω–æ, –∏–Ω–∞—á–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç):

–í `settings.py`

```python
MIDDLEWARE = [
    ...
    'django.middleware.cache.UpdateCacheMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.cache.FetchFromCacheMiddleware',
    ...
]
```

–í—Ä–µ–º—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–µ—à –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `settings.py`, –ø–æ–¥—Ä–æ–±–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –∏–ª–∏ –∫–ª–∞—Å—Å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `cache_page`

```python
from django.views.decorators.cache import cache_page


@cache_page(60 * 15)
def my_view(request):
    ...
```

–í —Å–∫–æ–±–∫–∞—Ö —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –∫–µ—à –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è, –æ–±—ã—á–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —É–º–Ω–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–µ–∫—É–Ω–¥—ã\–º–∏–Ω—É—Ç—ã –¥–ª—è
–ø—Ä–æ—Å—Ç–æ—Ç—ã —á—Ç–µ–Ω–∏—è (15*60 - —ç—Ç–æ 15 –º–∏–Ω—É—Ç, –Ω–∏–∫–∞–∫–æ–π —Ä–∞–∑–Ω–∏—Ü—ã –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞—Ç—å 900, –Ω–æ —Ç–∞–∫ –ø—Ä–æ—â–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ –≤–∏–¥).

–ß–∞—â–µ –≤—Å–µ–≥–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URL:

```python
from django.views.decorators.cache import cache_page

urlpatterns = [
    path('foo/<int:code>/', cache_page(60 * 15)(my_view)),
]
```

–î–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è class-based view –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –∫–ª–∞—Å—Å:

```python
from django.views.decorators.cache import cache_page

url(r'^my_url/?$', cache_page(60 * 60)(MyView.as_view())),
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å —Ç–µ–º–ø–ª–µ–π—Ç–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ç–µ–º–ø–ª–µ–π—Ç —Ç–µ–≥–∞ `cache`:

```html
{ % load cache %}
{ % cache 500 sidebar %}
..sidebar..
{ % endcache %}
```

–í –∫–µ—à –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –ª—é–±—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

```python
from django.core.cache import cache

cache.set('my_key', 'hello, world!', 30)
cache.get('my_key')
'hello, world!'
# Wait 30 seconds for 'my_key' to expire...
cache.get('my_key')
None

cache.set('add_key', 'Initial value')
cache.add('add_key', 'New value')
# .add() —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –∫–ª—é—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ –±—ã–ª–æ
cache.get('add_key')
'Initial value'

cache.get_or_set('my_new_key', 'my new value', 100)
'my new value'

import datetime

cache.get_or_set('some-timestamp-key', datetime.datetime.now)
datetime.datetime(2014, 12, 11, 0, 15, 49, 457920)

cache.set('a', 1)
cache.set('b', 2)
cache.set('c', 3)
cache.get_many(['a', 'b', 'c'])
{'a': 1, 'b': 2, 'c': 3}

cache.set_many({'a': 1, 'b': 2, 'c': 3})
cache.get_many(['a', 'b', 'c'])
{'a': 1, 'b': 2, 'c': 3}

cache.delete('a')
cache.delete_many(['a', 'b', 'c'])

cache.clear()

cache.touch('a', 10)  # –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
```

–ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `from django.views.decorators.cache import never_cache`,
–∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –Ω–µ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –≤—ã —É–∂–µ –∫–µ—à–∏—Ä—É–µ—Ç–µ –≤–µ—Å—å —Å–∞–π—Ç. –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
